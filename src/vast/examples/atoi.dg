fun atoi(value: string): i32 | error {
    var result = 0
    for ch in value {
        result += match ch {
            '0'..'9' -> result += result * 10 + ch - '0'
            else -> error
        }?
    }
    result
}

val b30 = '30'
val b12 = '12'

fun Test(): i32 | error {
    (atoi(b30)? + atoi(b12)?) ?: -1
}